<div id="product_codes">
    <h3>Product Codes: </h3>
    <table class="table">
        @foreach (var item in @ViewBag.ProductCodes)
        {
            var loadingElement = $"loading{@item.Id}";
            <tr>
                <td>
                    @using (Ajax.BeginForm("DeleteProductCode", new AjaxOptions
                    {
                        UpdateTargetId = "product_codes",
                        LoadingElementId = @loadingElement,
                        LoadingElementDuration = 1000
                    }))
                    {
                        <input type="hidden" id="Id" name="Id" value="@item.Id" />
                        <input type="hidden" id="CountryId" name="CountryId" value="@item.CountryId" />
                        <span>@item.Code</span>
                        <span id="@loadingElement" style="display: none; color: Red; font-weight: bold; margin-left: 10px;">Loading...</span>
                        <input type="submit" value="Delete" style="float: right" />
                    }
                </td>
            </tr>
        }
    </table>
</div>

