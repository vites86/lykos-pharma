@model List<Olga.Models.ProcedureViewModel>
@{
    ViewBag.Title = "Settings";
}
<div class="container">
    <h2>Procedures</h2>
    <h3 class="alert-success">@ViewBag.ContryName</h3>
    @{
        if (Model.Count != 0)
        {

            <table class="table" id="product-table" style='overflow: auto'>
                <thead class="thead_table">
                    <tr>
                        <td>Procedure type</td>
                        <td>Name</td>
                        <td>Submission Date</td>
                        <td>Approval Date</td>
                        <td>Comments</td>
                        <td>Product</td>
                        <td>Action</td>
                    </tr>
                </thead>
                <tbody>
                    @for (var i = 0; i < Model.Count; i++)
                    {
                        <tr data-rowid="@i">
                            <td>@Model[i].ProcedureType</td>
                            <td>@Model[i].Name</td>
                            <td>@{ var submissionDate = Model[i].SubmissionDate != null ? @Model[i].SubmissionDate.ToString().Substring(0, 10) : null; } @submissionDate</td>
                            <td>@{ var approvalDate = Model[i].ApprovalDate != null ? @Model[i].ApprovalDate.ToString().Substring(0, 10) : null; }  @approvalDate</td>
                            <td>@Model[i].Comments</td>
                            <td>@Model[i].Product.ProductName @Model[i].Product.ProductCode</td>
                            <td>
                                <span>
                                    @Html.ActionLink("   ", "EditProcedure", "Procedure", new {id = @Model[i].Id, productId = @Model[i].ProductId}, new
                                    {@class = "glyphicon glyphicon-pencil", @target = "_blank"})
                                </span>
                                <br/> <br/>
                                @Html.ActionLink("   ", "EditProcedureFiles", "Procedure", new {id = @Model[i].Id, productId = @Model[i].ProductId}, new
                                {@class = "glyphicon glyphicon-file", @target = "_blank"})<br /><br />
                                <span>
                                    @Html.ActionLink("   ", "DeleteProcedure", "Procedure", new { id = @Model[i].Id, productId = @Model[i].ProductId }, new
                                    {
                                        @class = "glyphicon glyphicon-trash text-warning",
                                        onclick = "return confirm('Are you sure you wish to delete this procedure?');"
                                    })
                                </span>
                            </td>
                        </tr>
                                        }
                </tbody>
            </table>

        }
        else
        {
            <div>No Procedurs yet!</div>
        }

    }
    <hr />
    <div>
    </div>
    <div class="empty"></div>
</div>

